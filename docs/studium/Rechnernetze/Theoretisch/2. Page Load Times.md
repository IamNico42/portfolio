---
created:
  - "{{date: DD-MM-YYYY}} {{time}}"
aliases:
  - "Course Code:"
tags:
  - Course/
---
## 🧠 1. Was ist `cwnd`?

- **`cwnd` (Congestion Window)** ist ein interner Wert beim **Sender von TCP-Daten** (z. B. Webserver)
- Er regelt, **wie viele Bytes (bzw. Segmente)** TCP **auf einmal ins Netzwerk senden darf**, **ohne auf Bestätigungen (ACKs) zu warten.**
    

### Warum gibt es `cwnd`?

> Damit der Sender **nicht zu viele Daten auf einmal losschickt** und dadurch das **Netzwerk überlastet**.

- TCP weiß nicht, **wo im Netz es gerade klemmt** (Router, Leitungen, etc.)
- Aber es merkt:
    
    - 📉 Wenn ACKs **langsam oder gar nicht** zurückkommen → ⚠️ Stau → **`cwnd` wird kleiner**
    - 📈 Wenn ACKs **schnell und vollständig** zurückkommen → 🟢 alles gut → **`cwnd` wird größer**
        

### cwnd wächst bei:

- **ACKs**, die zurückkommen
- Je mehr ACKs, desto größer `cwnd` → erlaubt mehr gleichzeitige Sendungen
    

### cwnd schrumpft bei:

- **Paketverlust** oder **Timeout**
- TCP wird vorsichtiger → reduziert `cwnd`
    

---

## 🔢 2. Was ist `IW` (Initial Window)?

- Das ist der **Startwert von `cwnd`**, wenn eine neue Verbindung aufgebaut wird.
- Beispiel: `IW = 2 MSS` → TCP darf **direkt zu Beginn 2 Segmente** senden (z. B. 1600 Bytes bei MSS = 800 Bytes)

---

## 🔁 3. Was ist RTT (Round-Trip Time)?

- Die Zeit, die vergeht, **bis ein gesendetes Paket beantwortet wird**.
- Also:
    - 📤 Ein Paket **geht raus**
    - 📥 Eine Antwort (z. B. ACK oder Daten) **kommt zurück**  
        → Das ist **eine RTT**

Beispiel:

- Client schickt HTTP-Request an Server
- Server schickt erste Antwort (z. B. ein Segment)  
    → Das Ganze zählt als **1 RTT**

---

## 📬 4. Was sind ACKs?

- Das sind kleine Nachrichten vom **Empfänger an den Sender**, die sagen:
    > „Ich habe dein Paket bekommen.“

TCP wartet auf diese ACKs, um:

- **zu wissen, was angekommen ist**
- **zu entscheiden, ob `cwnd` erhöht werden darf**

Ohne ACKs → kein Wachstum von `cwnd`.

---

## 🌍 5. Beobachtet `cwnd` nur das lokale Netz?

**Nein.**  
`cwnd` bezieht sich auf den **gesamten Pfad** zwischen Client und Server (Ende-zu-Ende).

- Es „fühlt“ Staus im Netz **nur über die Rückmeldungen (ACKs)**
- Es kennt **keine Router oder Leitungen direkt**
- Es reagiert aber **auf Verluste, Verzögerungen und Doppelte ACKs** als Zeichen: „Irgendwo ist es zu voll“

---

## 🌐 6. Unterschied HTTP mit und ohne Pipelining

| Feature   | Ohne Pipelining                | Mit Pipelining                                              |
| --------- | ------------------------------ | ----------------------------------------------------------- |
| Anfragen  | Eine nach der anderen          | Alle auf einmal                                             |
| Antworten | Erst Antwort 1, dann 2, dann 3 | Auch in Reihenfolge – aber alle Anfragen schon vorher raus  |
| Vorteil   | Einfach, gut steuerbar         | Schnellere Anfragen                                         |
| Nachteil  | Viele RTTs nötig               | Head-of-Line-Blocking: Wenn eine Antwort hängt, hängen alle |

---

## 📦 7. Beispiel: Bild wird übertragen (mit TCP)

1. Client fragt: „Gib mir Bild 5“
2. Server schaut auf sein `cwnd` – z. B. 2 MSS → schickt 2 Segmente
3. Client bekommt sie → schickt 2 ACKs
4. Server empfängt ACKs → erhöht `cwnd` → darf z. B. 4 Segmente schicken
5. Das geht so weiter, bis das Bild komplett da ist
6. Wenn alles ankam → keine neuen ACKs → Ruhe

---

## 💥 Merksätze zum Mitnehmen

- `cwnd` lebt **beim Sender**
- `cwnd` = **Vertrauenslevel**, wie viel man schicken darf
- **ACKs sind die Währung für Vertrauen**
- **RTT = Anfrage + Antwort**
- **Nur bei ACKs wächst `cwnd`**
- Kein explizites „cwnd ist jetzt größer“-Paket – es passiert **intern**
- HTTP mit Pipelining = schneller, aber riskanter bei Problemen


---

## 💥 Kleine Übungsaufgabe

| Objekt        | Request Bytes | Request Segmente | Response Bytes | Response Segmente |
|---------------|----------------|-------------------|------------------|---------------------|
| HTML Code     | 1200           | 2                 | 2000            | 3                   |
| Bild 1        | 1600           | 2                 | 3200            | 4                   |
| Bild 2        | 3200           | 4                 | 800             | 1                   |
| Bild 3        | 4800           | 6                 | 8000            | 10                  |
| Bild 4        | 800            | 2                 | 30000           | 38                  |
| Bild 5        | 1200           | 2                 | 11600           | 15                  |
| Bild 6 – 14   | 800            | 1                 | 8000            | 10                  |
| Bild 15       | 800            | 1                 | 52000           | 65                  |
| Bild 16       | 800            | 1                 | 11200           | 14                  |
| Bild 17 – 27  | 800            | 1                 | 3200            | 4                   |

| Parameter | Wert       |
|-----------|------------|
| MSS       | 800 Bytes  |
| IW        | 2 MSS      |


**Für Persistent http ohne Pipelining**
### 🔹 Regel 1: **HTTP ohne Pipelining**

→ Der Client sendet **nur einen Request gleichzeitig**  
→ Er wartet, bis die **volle Antwort empfangen wurde**  
→ Dann sendet er den **nächsten Request**

### 🔹 Regel 2: **TCP mit Slow Start**

→ Der Server beginnt mit `cwnd = IW = 2 MSS`  
→ Bei **jedem empfangenen ACK** wächst `cwnd` um

![[images/RN - PLT-Aufgabe1-3.pdf]]