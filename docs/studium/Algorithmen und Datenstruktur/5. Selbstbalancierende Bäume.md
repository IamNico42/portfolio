---
created:
  - "{{date: DD-MM-YYYY}} {{time}}"
aliases:
  - "Course Code:"
  - Algorithmen-Datenstrukturen
tags:
  - Course/
---
# Selbstbalancierende BÃ¤ume
## ğŸš€ **AVL-BÃ¤ume - Selbstbalancierende BinÃ¤rbÃ¤ume**

---

### ğŸ“š **1ï¸âƒ£ Was ist ein AVL-Baum?**

Ein **AVL-Baum** ist ein **selbstbalancierender binÃ¤rer Suchbaum (BST)**.  
Er wurde nach seinen Erfindern **Adelson-Velsky und Landis** benannt.

- âœ… **Eigenschaft:** FÃ¼r jeden Knoten gilt: 
$$BF = HÃ¶heÂ (linkerÂ Teilbaum)âˆ’HÃ¶heÂ (rechterÂ Teilbaum) â‰¤1$$
  - Das heiÃŸt: **Die HÃ¶he der linken und rechten TeilbÃ¤ume darf sich um maximal 1 unterscheiden.**
  
  - **BF = +1:** Linker Teilbaum ist um 1 hÃ¶her â†’ **leicht nach links geneigt.**
  - **BF = 0:** Beide TeilbÃ¤ume sind gleich hoch â†’ **perfekt balanciert.**
  - **BF = -1:** Rechter Teilbaum ist um 1 hÃ¶her â†’ **leicht nach rechts geneigt.**

=== "ğŸ” Pseudo-Code"

    ```pseudo
	FUNKTION insert(node, key):
	    WENN node leer:
	        GIB neuen Knoten mit key zurÃ¼ck
	
	    WENN key < node.key:
	        node.left = insert(node.left, key)
	    ANDERNFALLS:
	        node.right = insert(node.right, key)
	
	    AKTUALISIERE HÃ¶he von node
	    balance = Balance-Faktor(node)
	
	    // 4 RotationsfÃ¤lle
	    WENN balance > 1 UND key < node.left.key:
	        GIB rechts-rotation(node)    // LL-Fall
	
	    WENN balance < -1 UND key > node.right.key:
	        GIB links-rotation(node)     // RR-Fall
	
	    WENN balance > 1 UND key > node.left.key:
	        node.left = links-rotation(node.left)  // LR-Fall
	        GIB rechts-rotation(node)
	
	    WENN balance < -1 UND key < node.right.key:
	        node.right = rechts-rotation(node.right)  // RL-Fall
	        GIB links-rotation(node)
	
	    GIB node zurÃ¼ck

    ```


### âš¡ **4ï¸âƒ£ AVL-Rotationen zur Balancierung**

Wenn ein AVL-Baum aus dem Gleichgewicht gerÃ¤t, wird er durch **Rotationen** korrigiert. Es gibt **4 Rotationstypen:**

![[avl-tree-balancing.svg]]



[ğŸ”— Studyfix - Studyfix](https://studyflix.de/informatik/avl-baum-1434 "Videobeispiel bei Studyfix")

1ï¸âƒ£ **LL-Rotation (Links-Links-Fall):**

- Ungleichgewicht: Neuer Knoten wurde im **linken Teilbaum des linken Kindes** eingefÃ¼gt.
- **LÃ¶sung:** **Rechtsrotation (Right Rotation)**

```
    3
   /
  2
 /
1
```

â¡ï¸ Nach Rechtsrotation:

```
    2
   / \
  1   3
```

---

2ï¸âƒ£ **RR-Rotation (Rechts-Rechts-Fall):**

- Ungleichgewicht: Neuer Knoten wurde im **rechten Teilbaum des rechten Kindes** eingefÃ¼gt.
- **LÃ¶sung:** **Linksrotation (Left Rotation)**

```
  1
   \
    2
     \
      3
```

â¡ï¸ Nach Linksrotation:

```
    2
   / \
  1   3
```

---

3ï¸âƒ£ **LR-Rotation (Links-Rechts-Fall):**

- Ungleichgewicht: Neuer Knoten wurde im **rechten Teilbaum des linken Kindes** eingefÃ¼gt.
- **LÃ¶sung:** **Zweifache Rotation:**
    1. **Linksrotation am linken Kind**
    2. **Rechtsrotation am unbalancierten Knoten**

```
    3
   /
  1
   \
    2
```

â¡ï¸ Nach Doppelrotation:

```
    2
   / \
  1   3
```

---

4ï¸âƒ£ **RL-Rotation (Rechts-Links-Fall):**

- Ungleichgewicht: Neuer Knoten wurde im **linken Teilbaum des rechten Kindes** eingefÃ¼gt.
- **LÃ¶sung:** **Zweifache Rotation:**
    1. **Rechtsrotation am rechten Kind**
    2. **Linksrotation am unbalancierten Knoten**

```
  1
   \
    3
   /
  2
```

â¡ï¸ Nach Doppelrotation:

```
    2
   / \
  1   3
```

---

### ğŸš€ **5ï¸âƒ£ AVL-Baum EinfÃ¼gen (Insert)**

1. **Normal einfÃ¼gen** (wie in einem BST).
2. **Balance-Faktoren berechnen.**
3. **Rotation anwenden**, falls der Baum aus dem Gleichgewicht ist.
### âœ… **Beispiel: AVL-EinfÃ¼geoperation**

**EinfÃ¼gen der Knoten in dieser Reihenfolge:** `10 â†’ 20 â†’ 30`

1ï¸âƒ£ **FÃ¼ge 10 ein:**
```
10
```
2ï¸âƒ£ **FÃ¼ge 20 ein:**
```
  10
    \
     20
```
- **Balance-Faktor von 10:** -1 (ok)

3ï¸âƒ£ **FÃ¼ge 30 ein:**
```
  10
    \
     20
       \
        30
```

- **Balance-Faktor von 10:** -2 (ungleichgewichtig) â†’ **RR-Fall**
- âœ… **LÃ¶sung:** Linksrotation bei 10.
â¡ï¸ Nach Rotation:
```
    20
   /  \
  10   30
```

### ğŸš€ **9ï¸âƒ£ Laufzeitanalyse**

- **Suchen, EinfÃ¼gen, LÃ¶schen:** O(logâ¡n)O(\log n)O(logn)
- **Balancierung:** O(logâ¡n)O(\log n)O(logn) durch Rotationen
- **SpeicherkomplexitÃ¤t:** O(n)O(n)O(n)

---

### ğŸ¯ **1ï¸âƒ£0ï¸âƒ£ Fazit**

- âœ… AVL-BÃ¤ume sind **immer balanciert**, daher sehr effizient fÃ¼r Suchoperationen.
- âœ… **Rotationen (LL, RR, LR, RL)** halten den Baum ausgeglichen.
- âœ… **Laufzeit fÃ¼r alle Operationen:** $O(logâ¡n)$
- âœ… Anwendungen: Datenbanken, Indexstrukturen, Speichermanagement.


---

---

## ğŸš€ **Rot-Schwarz-BÃ¤ume - Selbstbalancierende BinÃ¤rbÃ¤ume**

---

### ğŸ“š **1ï¸âƒ£ Was ist ein Rot-Schwarz-Baum?**

Ein **Rot-Schwarz-Baum** ist ein **selbstbalancierender binÃ¤rer Suchbaum (BST)**, der sicherstellt, dass der Baum immer ungefÃ¤hr balanciert bleibt.  
Er ist eine Alternative zu AVL-BÃ¤umen, verwendet jedoch eine andere Strategie zur Balancierung, die effizienter fÃ¼r hÃ¤ufige EinfÃ¼gungen und LÃ¶schungen ist.

---

### ğŸ”‘ **2ï¸âƒ£ Eigenschaften von Rot-Schwarz-BÃ¤umen**

1. **Jeder Knoten ist entweder rot oder schwarz.**
2. **Die Wurzel ist immer schwarz.**
3. **Alle BlÃ¤tter (NIL-Knoten) sind schwarz.**
4. **Ein roter Knoten hat keine roten Kinder** (keine zwei roten Knoten direkt hintereinander).
5. **Jeder Pfad von der Wurzel zu einem Blatt hat die gleiche Anzahl schwarzer Knoten** (schwarze HÃ¶he).

Diese Regeln sorgen dafÃ¼r, dass der Baum immer **logarithmisch hoch** bleibt, was schnelle Such-, EinfÃ¼ge- und LÃ¶schoperationen ermÃ¶glicht.

---

### ğŸ“Š **3ï¸âƒ£ Balance-Konzept: Schwarze HÃ¶he**

- Die **schwarze HÃ¶he** eines Knotens ist die Anzahl der **schwarzen Knoten** auf dem Weg von diesem Knoten bis zu einem Blatt.
- **Wichtige Regel:** Alle Pfade von der Wurzel zu den BlÃ¤ttern mÃ¼ssen die **gleiche schwarze HÃ¶he** haben.

---

### ğŸš€ **4ï¸âƒ£ Insert (EinfÃ¼gen) in einen Rot-Schwarz-Baum**

### âœ… **Schritt-fÃ¼r-Schritt:**

1. **FÃ¼ge den Knoten wie in einem normalen BST ein.**
2. **FÃ¤rbe den neuen Knoten immer ROT.**
3. **Verletzen der Rot-Schwarz-Regeln?**
    - Falls ja, werden **Rotationen** und **UmfÃ¤rbungen** angewendet.
4. **Stelle sicher, dass die Wurzel am Ende immer SCHWARZ ist.**

=== "ğŸ” Pseudo-Code Vereinfacht - Insert"

    ```pseudo
	INSERT(node, key):
	    FÃ¼ge key normal wie im BST ein
	    FÃ¤rbe den neuen Knoten ROT
	
	    WHILE (Elternknoten ROT):
	        IF (Elternknoten ist linkes Kind):
	            WENN Onkel ROT:
	                FÃ¤rbe Eltern & Onkel SCHWARZ, GroÃŸeltern ROT
	                Setze GroÃŸeltern als neuen Knoten
	            ANDERNFALLS:
	                WENN der Knoten ein rechtes Kind ist:
	                    Linksrotation am Elternknoten
	                Rechtsrotation am GroÃŸelternknoten
	                Farben von Eltern & GroÃŸeltern umkehren
	
	        (Symmetrischer Fall fÃ¼r rechtes Kind)
	
	    Wurzel immer SCHWARZ fÃ¤rben
    ```

---
### ğŸ”„ **Rotationen:**

- **Linksrotation (Left Rotation):** Dreht eine Kante nach links.
- **Rechtsrotation (Right Rotation):** Dreht eine Kante nach rechts.

Diese Rotationstypen helfen dabei, die Balance des Baums wiederherzustellen.

---
### ğŸ—ºï¸ **Beispielgraph**

![[s_r_tree.svg]]

[ğŸ”— Studyfix - Studyfix](https://studyflix.de/informatik/rot-schwarz-baum-1437 "Videobeispiel bei Studyfix")

---
### ğŸš© **5ï¸âƒ£ Delete (LÃ¶schen) in einem Rot-Schwarz-Baum**

### âœ… **Schritt-fÃ¼r-Schritt:**

1. **LÃ¶sche den Knoten wie in einem BST.**
2. **Falls ein schwarzer Knoten gelÃ¶scht wird:**
    - **"Doppelschwarz"-Problem** kann auftreten (Ungleichgewicht).
3. **LÃ¶sen durch:**
    - **Rotationen**
    - **UmfÃ¤rbungen**
    - **Transfer schwarzer HÃ¶he**


---

---

## ğŸš€ **B-BÃ¤ume - Selbstbalancierende SuchbÃ¤ume fÃ¼r groÃŸe Datenmengen**

---

### ğŸ“š **1ï¸âƒ£ Was ist ein B-Baum?**

Ein **B-Baum** ist eine **selbstbalancierende Baumstruktur**, die speziell fÃ¼r den Einsatz in **Datenbanken** und **Dateisystemen** entwickelt wurde.  
Er kann **mehrere SchlÃ¼ssel pro Knoten** speichern und hat mehr als zwei Kinder â†’ **generalisierter AVL-Baum**.

- âœ… **Eigenschaft:** Effizient fÃ¼r groÃŸe Datenmengen, da er **weniger tief** ist (im Vergleich zu AVL/Red-Black-BÃ¤umen).
- âœ… **Optimal fÃ¼r Festplatten & Speicherzugriffe**, da groÃŸe BlÃ¶cke auf einmal verarbeitet werden.

### ğŸ”‘ **2ï¸âƒ£ Eigenschaften eines B-Baums (Ordnung m)**

Ein B-Baum der **Ordnung m** hat:

- **Maximal $mâˆ’1$ SchlÃ¼ssel** pro Knoten
- **Mindestens $âŒˆm/2âŒ‰ - 1$ SchlÃ¼ssel** pro Knoten (auÃŸer der Wurzel)
- **Maximal $m$ Kinder** pro Knoten
- Jeder **interne Knoten mit $k$ SchlÃ¼sseln** hat genau **$k+1$ Kinder**
- **Alle BlÃ¤tter sind auf derselben Ebene** â†’ Baum ist immer balanciert.

![[b-baum-ordnung3.svg]]


[ğŸ”— Studyfix - Studyfix](https://studyflix.de/informatik/b-baum-1435?topic_id=46 "Videobeispiel bei Studyfix")


### âœ… **8ï¸âƒ£ Fazit**

- **B-BÃ¤ume** sind optimal fÃ¼r groÃŸe Datenmengen.
- âœ… **Insert:** EinfÃ¼gen + Split bei Ãœberlauf.
- âœ… **Delete:** LÃ¶schen + Merge/Redistribute bei Unterlauf.
- âœ… Anwendungen: **Datenbanken, Dateisysteme (z.B. NTFS, MySQL, PostgreSQL).**